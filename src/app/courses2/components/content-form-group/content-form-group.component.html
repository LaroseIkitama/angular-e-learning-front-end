<div class="formular_content">
  <mat-card class="mat-elevation-z8">
    <mat-card-header>contenu </mat-card-header>
    <mat-card-actions align="end"><button mat-raised-button color="primary" (click)="addSection()">Ajouter une section</button>
    </mat-card-actions>
  </mat-card>
  <ng-container *ngIf="form.value.content.length; else elseTemplate">
    <!-- Content exist -->
    <ul *ngFor="let element of form.value.content; let i=index">
      <li>
        <mat-card>
          <mat-card-header>Section {{ i+1 }} - {{ element.section.title}}</mat-card-header>
          <mat-card-content>
            <ng-container *ngIf="element.chapters.length else elseTemplate">
              <ul *ngFor="let chapter of element.chapters; let j=index">
                <li>Chapitre {{ j+1 }} - {{ chapter.title }}
                  <button class="btn btn-delete" (click)="onDeleteChapter(i,j)">
                    <mat-icon>delete</mat-icon>
                  </button>
                  <button class="btn btn-edit" (click)="onUpdateChapter(i,j)">
                    <mat-icon>create</mat-icon>
                  </button>
                </li>
              </ul>
            </ng-container>
            <ng-template #elseTemplate>

            </ng-template>

          </mat-card-content>
          <mat-card-actions>
            <button class="btn btn-delete" (click)="onDelete(i)">
              <mat-icon>delete</mat-icon>
            </button>
            <button class="btn btn-edit" (click)="onUpdate(i)">
              <mat-icon>create</mat-icon>
            </button>
            <button mat-raised-button color="primary" (click)="addChapter(i)">Ajouter un chapitre</button>
          </mat-card-actions>
        </mat-card>
      </li>
    </ul>
  </ng-container>
  <ng-template #elseTemplate>
    <!-- Content is empty -->
  </ng-template>

  <div class="action-buttons">
    <button mat-raised-button color="primary" matStepperPrevious>Précédent</button>
    <button mat-raised-button color="primary" (click)="step2Submitted()" matStepperNext>Suivant</button>
  </div>
</div>
